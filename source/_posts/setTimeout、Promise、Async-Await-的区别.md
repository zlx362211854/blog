---
title: setTimeout、Promise、Async-Await-的区别
date: 2022-03-04 14:55:15
tags:
---

<div class="post-block"><link itemprop="mainEntityOfPage" href="http://cmszlx.win/2019/07/30/setTimeout、Promise、Async-Await-的区别/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="linXiao"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hurry"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span><span class="post-meta-item-text">发表于</span><time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-30T17:53:43+08:00"> 2019年07月30日 </time></span></div></header><div class="post-body" itemprop="articleBody"><p>在浏览器环境中，setTimeout属于macrotasks queue（宏任务队列），Promise、Async/Await属于microtasks queue(微任务队列)。<br>js事件循环，会先执行微任务队列，再执行宏任务队列。<br>如在浏览器中：</p><precode language="javascript" precodenum="0"></precode><p>会先执行promise微任务队列，再执行setTimeout的宏任务队列。<br>另外，我们可以手动把一个任务加入微任务执行队列中：</p><precode language="javascript" precodenum="1"></precode><p>执行顺序为3-》4-》queueMicrotask-》1</p></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/07/30/javascript是单线程语言，那他的异步机制是怎么实现的？/" rel="next" title="javascript是单线程语言，那他的异步机制是怎么实现的？"><i class="fa fa-chevron-left"></i> javascript是单线程语言，那他的异步机制是怎么实现的？ </a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/07/30/节流和防抖是什么？有什么区别？怎么实现？/" rel="prev" title="节流和防抖是什么？有什么区别？怎么实现？"> 节流和防抖是什么？有什么区别？怎么实现？ <i class="fa fa-chevron-right"></i></a></div></div></footer></div>
