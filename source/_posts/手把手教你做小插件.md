---
title: 手把手教你做小插件
date: 2018-01-17 14:53:04
tags:
---

<div class="post-block"><link itemprop="mainEntityOfPage" href="http://cmszlx.win/2018/01/17/手把手教你做小插件/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="linXiao"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hurry"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span><span class="post-meta-item-text">发表于</span><time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-17T15:35:48+08:00"> 2018年01月17日 </time></span></div></header><div class="post-body" itemprop="articleBody"><h4 id="javascript面向对象编程一直都是初学者的难点，都看过很多文章，却没有动手写过，还是理解不深刻，今天我看文章的时候手写了一个及小的插件，正好练练手。"><a href="#javascript面向对象编程一直都是初学者的难点，都看过很多文章，却没有动手写过，还是理解不深刻，今天我看文章的时候手写了一个及小的插件，正好练练手。" class="headerlink" title="javascript面向对象编程一直都是初学者的难点，都看过很多文章，却没有动手写过，还是理解不深刻，今天我看文章的时候手写了一个及小的插件，正好练练手。"></a>javascript面向对象编程一直都是初学者的难点，都看过很多文章，却没有动手写过，还是理解不深刻，今天我看文章的时候手写了一个及小的插件，正好练练手。</h4><p>详细的js面向对象编程可以看阮一峰老师的文章 <a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html" target="_blank" rel="noopener">阮一峰-面向对象编程</a></p><p>我正好在看文章时，动手写了一个loading的插件，也可以用在项目中去。分享出来。 <a href="https://github.com/zlx362211854/loading" target="_blank" rel="noopener">github链接</a></p><blockquote><p>loading效果是这样的：</p></blockquote><p><img src="http://upload-images.jianshu.io/upload_images/5420078-a74df0e8c05aad5a.gif?imageMogr2/auto-orient/strip" alt="效果"></p><p>直接看代码吧，执行特别简单：</p><precode language="" precodenum="0"></precode><p>只需要事先准备好一个容器</p><precode language="" precodenum="1"></precode><p>只有三个api</p><precode language="" precodenum="2"></precode><p>直接看源码吧， 简单得令人发指：</p><precode language="" precodenum="3"></precode><p>逐一分析：</p><ul><li>创建一个叫Loading的构造函数。</li><li><p><code>this.color = ['#5fc6b3', '#5fc6b3', '#5fc6b3']; // default colors</code> 给三个小圆点定义三个默认颜色。</p></li><li><precode language="init```方法。" precodenum="4"></precode><p>this.init = function (id) {</p><precode language="" precodenum="5"></precode><p> };<br><code>根据传进来的id来获取到dom元素。并将该dom元素对象赋值给this.container，方便以后使用。最后return this，这里为了方便api实现链式调用，所以return了this。实现了如</code>loading.init(‘container’).start().end();<code>`</code>这样的链式调用，这种写法在jquery中很常见。</p></li></ul><ul><li><code>start</code>方法。</li></ul><precode language="" precodenum="6"></precode><p>这里处理shart’方法传进来的color，是一个数组，如果没有传入，则为我们默认的colors。循环创建3个div，并赋上相应的属性，再添加到container中。</p><ul><li><precode language="end```方法" precodenum="7"></precode><p>this.end = function () {</p><precode language="" precodenum="8"></precode><p> }<br><code>`</code></p></li></ul><p>最后也很简单，移除这个container。</p><p>¨NBSP;<a href="https://github.com/zlx362211854/loading" target="_blank" rel="noopener">详细代码见github</a></p><p>这个例子很小，希望对你有帮助。</p></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/11/15/深入Node-js的模块机制/" rel="next" title="深入Node.js的模块机制"><i class="fa fa-chevron-left"></i> 深入Node.js的模块机制 </a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2018/09/05/命令行查询天气/" rel="prev" title="【原创】nodejs命令行查询天气小工具"> 【原创】nodejs命令行查询天气小工具 <i class="fa fa-chevron-right"></i></a></div></div></footer></div>
