---
title: js观察者模式如何实现
date: 2019-07-30 14:55:06
tags:
---
<div class="post-block"><link itemprop="mainEntityOfPage" href="http://cmszlx.win/2019/07/30/js观察者模式如何实现/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="linXiao"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hurry"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span><span class="post-meta-item-text">发表于</span><time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-30T17:47:03+08:00"> 2019年07月30日 </time></span></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>观察者模式</p></blockquote><p>观察者模式有几个要素:</p><ol><li>需要将需要观察的对象存放起来</li><li>在需要的地方触发该观察者</li><li>第三观察者需要分类，同一类的观察者可监听同一个事件，监听被触发时，所有的观察者都需要被通知到。</li></ol><p>具体实现一个观察者模式如下：</p><precode language="javascript" precodenum="0"></precode><p>上面代码里使用了es6 的Map对象来存储观察者。注册观察者的时候，每收到一个观察者注册，就按类型将他们分类存放，同一类的观察者存储在一个数组中。触发观察者的代码中，收到触发的命令后，找出触发的类型，调用所有已注册的同类的观察者。删除观察者，就将注册的所有观察者删除，return this方便链式调用</p><p>调用示例如下：</p><precode language="javascript" precodenum="1"></precode><p>至此，就实现了一个简单的观察者模式</p></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/07/23/js手动实现自定义事件监听/" rel="next" title="js 手动实现自定义事件监听"><i class="fa fa-chevron-left"></i> js 手动实现自定义事件监听 </a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/07/30/ajax产生二次请求原因及解决方式/" rel="prev" title="ajax产生二次请求原因及解决方式"> ajax产生二次请求原因及解决方式 <i class="fa fa-chevron-right"></i></a></div></div></footer></div>
