---
title: 连表查询populate用法
date: 2019-03-20 14:54:09
tags:
---

<div class="post-block"><link itemprop="mainEntityOfPage" href="http://cmszlx.win/2019/03/20/连表查询populate用法/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="linXiao"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hurry"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span><span class="post-meta-item-text">发表于</span><time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-20T18:03:15+08:00"> 2019年03月20日 </time></span></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>mongodb中连表查询很方便，mongoose中的populate可以很方便的实现</p></blockquote><p>如下：我们有两个Model，User和File，User的avatar属性是关联着File的id:</p><precode language="javascript" precodenum="0"></precode><p>现在，这两张表是关联表，查询User的时候如何关联查询出File中的所有属性呢？<br>如下是一个查询接口的实现，根据user name查询出user和关联的File所有数据：</p><precode language="javascript" precodenum="1"></precode><p>返回数据如下：</p><precode language="javascript" precodenum="2"></precode><p>可见，File通过连表查询populate查询出了File所有的数据。<br>populate函数还有其他参数：</p><precode language="javascript" precodenum="3"></precode><p>表示只返回File的name属性，不返回其他属性。</p></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2018/09/20/vuejs数据绑定原理/" rel="next" title="vuejs 数据绑定原理解析"><i class="fa fa-chevron-left"></i> vuejs 数据绑定原理解析 </a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/03/20/字段的用法/" rel="prev" title="npm bin 字段的用法"> npm bin 字段的用法 <i class="fa fa-chevron-right"></i></a></div></div></footer></div>
